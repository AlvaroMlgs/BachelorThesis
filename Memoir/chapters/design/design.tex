
\let\textcircled=\pgftextcircled
\chapter{System design}

\initial{A}s mentioned in Section \ref{sec:methodology}, the design of the Obstacle Collision Avoidance System will follow the Systems Engineering approach.
The main reason is that Systems Engineering provides some methods that prevent the errors with the highest consequences when the system to be designed is complex.
As explained by Rolls-Royce Global Chief of Systems Engineering \cite{beasley2015}:
\begin{quote}
	\itshape
	Systems Engineering collects and organises all the information needed to understand the whole problem, explores it from all angles, and then finds the most appropriate system solution.
\end{quote}

Furthermore, A key study published through INCOSE \cite{incoseuk2016} looked at the phase of detection of errors, and the consequent cost of fixing them.
Cost modelling was validated against a cross-industry range of defence and aerospace projects.
Figure \ref{fig:incose} shows the results of the study.

\input{./figures/incose.tex}

Hence, in the present chapter, some of the most relevant Systems Engineering tools from the NASA Systems Engineering Handbook \cite{nationalaeronauticsandspaceadministration2007} will be applied


\section{Requirements capture}

The design process for a system is requirement driven, since the requirements are what will define the cost, design, schedule\ldots\ % Space after \ldots
A requirement is a statement about or a characteristic of something that is needed.

Requirements can be derived from a variety of sources, like customer needs, stakeholders, regulations, procedures, constrains, etc.
However, for this project, customers and stakeholders will be disregarded (since none exist) and the motivation as stated in Section \ref{sec:motivation} will be used instead.

In the present section some requirements will be posed, but only those that directly apply to the OCAS subsystem or its interfaces, since the platform is considered to be completely functional prior to the introduction of the solution (following the modularity concept).

\input{./sysReqs.tex}

Notice that Table \ref{tab:sysReqs} is not static, and should be updated during the design process, since some of the tools of Systems Engineering are designed to expose missing requirements.
Thus, some requirements have been written at later design stages, as the ``Traceability (sourced from)'' column shows.
Also, the fourth column is to be completed in the subsystem design stage, when the system requirements will be allocated to one or more specific subsystems or components.


\section{Functional Analysis}

The Functional Analysis is an intermediate step between the Requirements Capture and the Design phases.
Its purpose is to understand the manner in which the requirements affect the way that the system functions, for the requirements loop; and to identify a feasible solution that functions in a way that meets the requirements, for the design loop.

\subsection{Functional Architecture}

The logical decomposition performed during the functional analysis decomposes the top level requirements and allocates them down to the lowest desired levels.
The main outcome of the process is the Functional Architecture (Figure \ref{fig:functArch}), which helps establish relationships between requirements, and ultimately build a System Architecture.

\input{./figures/functArch.tex}

The main purpose is to create an association between the requirements and the functions that the system needs to be able to perform to meet them.
In the process, any discrepancy or missing items can (and should) be identified and corrected in an iterative manner.

\subsection{Functional Flow Block Diagram (FFBD)}

Once the functions of the system are defined, it is useful to dispose them so that the sequential use of each of them during the mission is shown.
To that end, the Functional Flow Block Diagram is used.
In the FFBD each function is represented by a block, and it is described in terms of inputs, outputs and interfaces.
In the case that a function is composed of several sub-functions, those will be represented hierarchically, so that the general flow is maintained.

The FFBD shows \emph{what} must happen, and provides an end-to-end path considering all the functionality of the system and the predefined use-case scenarios.
Parallel or alternate paths might be considered.

\input{./figures/ffbd.tex}

For the block diagrams depicted in Figures \ref{fig:ffbd0} to \ref{fig:ffbd6}, the symbology used is explained below:

\begin{itemize}
	\item 
		\tikz \draw[rounded corners=1mm,fill=teal!40,draw=black,semithick] (0,0) rectangle (6mm,3mm);
		\ represents an individual function or subfunction as defined in the Functional Architecture from Figure \ref{fig:functArch}.
	\item
		\tikz \draw[circle,fill=teal!70!black!70,draw=none,text=white,inner sep=1mm,node distance=2cm] (0,0) circle (2mm);
		\ represents a logical \textit{and} or \textit{or} gate for defining parallel or alternative paths, respectively.
	\item
		\tikz \draw[rectangle,rounded corners=1.5mm,fill=black!30,draw=black,thin] (0,0) rectangle (5mm,3mm);
		\ represents a reference block that specifies the origin or destination of a path from an external function of the system.
	\item
		\tikz \draw[rounded corners=1mm,draw=red!70!black!100,very thick,dashed] (0,0) rectangle (6mm,3mm);
		\ represents the boundaries of the functional description, be it the whole system or a subfunction of it.
	\item
		\tikz \draw[>=stealth,->,thick] (0,0) -- (5mm,0);
		\ indicates the secuential order that is to be followed from one function to another.
	\item
		\tikz \draw[>=stealth,->,thick,dashed] (0,0) -- (5mm,0);
		\ indicates an information flow between two functional blocks.
\end{itemize}


